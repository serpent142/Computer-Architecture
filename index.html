<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Computer Architecture Adventure</title>
    <style>
        /* ===== GLOBAL STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        /* ===== CONTAINER ===== */
        .game-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 900px;
            width: 100%;
            overflow: hidden;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ===== HEADER ===== */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        /* ===== PROGRESS BAR ===== */
        .progress-section {
            background: #f8f9fa;
            padding: 20px 30px;
            border-bottom: 2px solid #e0e0e0;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-weight: 600;
            color: #333;
        }

        .progress-bar-container {
            background: #e0e0e0;
            height: 25px;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }

        .progress-bar {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            height: 100%;
            border-radius: 15px;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9em;
        }

        /* ===== SECTION NAVIGATION ===== */
        .section-nav {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            padding: 20px 30px;
            background: #f8f9fa;
            border-bottom: 2px solid #e0e0e0;
        }

        .section-btn {
            flex: 1;
            min-width: 150px;
            padding: 15px 20px;
            border: none;
            border-radius: 10px;
            background: white;
            color: #333;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .section-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .section-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .section-btn.completed {
            background: #28a745;
            color: white;
        }

        .section-btn.locked {
            background: #ccc;
            cursor: not-allowed;
            opacity: 0.6;
        }

        /* ===== CONTENT AREA ===== */
        .content {
            padding: 40px;
            min-height: 400px;
        }

        .content-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .content-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        /* ===== LESSON CONTENT ===== */
        .lesson {
            margin-bottom: 30px;
        }

        .lesson h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 2em;
        }

        .lesson h3 {
            color: #764ba2;
            margin: 20px 0 15px 0;
            font-size: 1.4em;
        }

        .lesson p {
            line-height: 1.8;
            color: #555;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .lesson ul {
            margin-left: 30px;
            margin-bottom: 15px;
        }

        .lesson li {
            margin-bottom: 10px;
            line-height: 1.6;
            color: #555;
        }

        /* ===== INTERACTIVE DEMO BOX ===== */
        .demo-box {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .demo-box h4 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .binary-converter {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .binary-converter input {
            padding: 10px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
            width: 150px;
        }

        .binary-converter button {
            padding: 10px 20px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: background 0.3s ease;
        }

        .binary-converter button:hover {
            background: #764ba2;
        }

        .result-display {
            padding: 15px;
            background: white;
            border-radius: 8px;
            font-weight: bold;
            color: #667eea;
            min-width: 200px;
        }

        /* ===== QUIZ SECTION ===== */
        .quiz {
            margin-top: 30px;
        }

        .quiz h3 {
            color: #764ba2;
            margin-bottom: 20px;
        }

        .question {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 1.2em;
            font-weight: 600;
            color: #333;
            margin-bottom: 20px;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option-btn {
            padding: 15px 20px;
            background: white;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-size: 1em;
        }

        .option-btn:hover {
            border-color: #667eea;
            background: #f0f0f0;
        }

        .option-btn.selected {
            border-color: #667eea;
            background: #e7e9ff;
        }

        .option-btn.correct {
            border-color: #28a745;
            background: #d4edda;
        }

        .option-btn.incorrect {
            border-color: #dc3545;
            background: #f8d7da;
        }

        .option-btn:disabled {
            cursor: not-allowed;
        }

        /* ===== FEEDBACK BOX ===== */
        .feedback {
            margin-top: 20px;
            padding: 20px;
            border-radius: 8px;
            display: none;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .feedback.show {
            display: block;
        }

        .feedback.correct {
            background: #d4edda;
            border-left: 4px solid #28a745;
            color: #155724;
        }

        .feedback.incorrect {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            color: #721c24;
        }

        /* ===== ACTION BUTTONS ===== */
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        /* ===== SCORE DISPLAY ===== */
        .score-display {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin: 20px 0;
        }

        .score-display h3 {
            color: white;
            margin-bottom: 10px;
        }

        .score-number {
            font-size: 3em;
            font-weight: bold;
        }

        /* ===== VISUAL ANIMATIONS ===== */
        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        /* ===== RESPONSIVE DESIGN ===== */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }

            .content {
                padding: 20px;
            }

            .section-nav {
                padding: 15px;
            }

            .section-btn {
                min-width: 100%;
            }

            .binary-converter {
                flex-direction: column;
                align-items: stretch;
            }

            .binary-converter input,
            .result-display {
                width: 100%;
            }
        }

        /* ===== CPU DIAGRAM ===== */
        .cpu-diagram {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        .cpu-component {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 3px solid #667eea;
            text-align: center;
            transition: all 0.3s ease;
        }

        .cpu-component:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .cpu-component h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .cpu-component p {
            font-size: 0.9em;
            color: #666;
        }

        /* ===== MEMORY CELLS ===== */
        .memory-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .memory-cell {
            background: white;
            padding: 15px;
            border: 2px solid #764ba2;
            border-radius: 8px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .memory-cell:hover {
            background: #e7e9ff;
            transform: translateY(-2px);
        }

        .memory-cell .address {
            font-size: 0.8em;
            color: #888;
            margin-bottom: 5px;
        }

        .memory-cell .value {
            font-size: 1.2em;
            font-weight: bold;
            color: #764ba2;
        }

        /* ===== ALU CALCULATOR ===== */
        .alu-calculator {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 3px solid #667eea;
        }

        .alu-inputs {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .alu-inputs input,
        .alu-inputs select {
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
        }

        .alu-result {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            font-size: 1.5em;
            font-weight: bold;
            color: #667eea;
            margin-top: 15px;
        }
    </style>
</head>
<body>
    <!-- Main game container -->
    <div class="game-container">
        <!-- Header section with title -->
        <div class="header">
            <h1>üñ•Ô∏è Computer Architecture Adventure</h1>
            <p>Learn how computers work from the ground up!</p>
        </div>

        <!-- Progress tracking section -->
        <div class="progress-section">
            <div class="progress-label">
                <span>Your Progress</span>
                <span id="progress-text">0%</span>
            </div>
            <div class="progress-bar-container">
                <div class="progress-bar" id="progress-bar" style="width: 0%;">0%</div>
            </div>
        </div>

        <!-- Section navigation buttons -->
        <div class="section-nav">
            <button class="section-btn active" data-section="binary">1. Binary Numbers</button>
            <button class="section-btn locked" data-section="cpu">2. CPU Basics</button>
            <button class="section-btn locked" data-section="memory">3. Memory & Registers</button>
            <button class="section-btn locked" data-section="alu">4. ALU Operations</button>
        </div>

        <!-- Main content area where lessons and quizzes appear -->
        <div class="content">
            <!-- ===== SECTION 1: BINARY NUMBERS ===== -->
            <div class="content-section active" id="section-binary">
                <div class="lesson">
                    <h2>Understanding Binary Numbers</h2>

                    <p>Welcome to your first lesson! Computers don't understand regular numbers like we do. They only understand two states: ON (1) and OFF (0). This is called the <strong>binary number system</strong>.</p>

                    <h3>Why Binary?</h3>
                    <p>Electronic circuits can easily represent two states (high voltage = 1, low voltage = 0). This makes binary perfect for computers!</p>

                    <h3>How Binary Works</h3>
                    <p>In our everyday decimal system, we use 10 digits (0-9). Each position represents a power of 10:</p>
                    <ul>
                        <li><strong>321</strong> = (3 √ó 100) + (2 √ó 10) + (1 √ó 1)</li>
                    </ul>

                    <p>In binary, we only use 2 digits (0 and 1). Each position represents a power of 2:</p>
                    <ul>
                        <li><strong>101</strong> in binary = (1 √ó 4) + (0 √ó 2) + (1 √ó 1) = <strong>5</strong> in decimal</li>
                        <li><strong>1010</strong> in binary = (1 √ó 8) + (0 √ó 4) + (1 √ó 2) + (0 √ó 1) = <strong>10</strong> in decimal</li>
                    </ul>

                    <!-- Interactive binary converter demo -->
                    <div class="demo-box">
                        <h4>Try It Yourself: Binary Converter</h4>
                        <div class="binary-converter">
                            <input type="number" id="decimal-input" placeholder="Enter number" min="0" max="255">
                            <button onclick="convertToBinary()">Convert to Binary ‚Üí</button>
                            <div class="result-display" id="binary-result">Result will appear here</div>
                        </div>
                    </div>

                    <div class="demo-box">
                        <h4>Binary to Decimal</h4>
                        <div class="binary-converter">
                            <input type="text" id="binary-input" placeholder="Enter binary" pattern="[01]+">
                            <button onclick="convertToDecimal()">Convert to Decimal ‚Üí</button>
                            <div class="result-display" id="decimal-result">Result will appear here</div>
                        </div>
                    </div>
                </div>

                <!-- Quiz section for binary numbers -->
                <div class="quiz">
                    <h3>üìù Test Your Knowledge</h3>

                    <div class="question">
                        <div class="question-text">Question 1: What is 1011 in binary equal to in decimal?</div>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(this, false, 'binary', 0)">A) 9</button>
                            <button class="option-btn" onclick="checkAnswer(this, true, 'binary', 0)">B) 11</button>
                            <button class="option-btn" onclick="checkAnswer(this, false, 'binary', 0)">C) 13</button>
                            <button class="option-btn" onclick="checkAnswer(this, false, 'binary', 0)">D) 15</button>
                        </div>
                        <div class="feedback" id="feedback-binary-0">
                            <strong>Explanation:</strong> 1011 = (1√ó8) + (0√ó4) + (1√ó2) + (1√ó1) = 8 + 0 + 2 + 1 = 11
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-text">Question 2: What is 5 in decimal equal to in binary?</div>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(this, false, 'binary', 1)">A) 100</button>
                            <button class="option-btn" onclick="checkAnswer(this, true, 'binary', 1)">B) 101</button>
                            <button class="option-btn" onclick="checkAnswer(this, false, 'binary', 1)">C) 110</button>
                            <button class="option-btn" onclick="checkAnswer(this, false, 'binary', 1)">D) 111</button>
                        </div>
                        <div class="feedback" id="feedback-binary-1">
                            <strong>Explanation:</strong> 5 = 4 + 1 = (1√ó4) + (0√ó2) + (1√ó1) = 101 in binary
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-text">Question 3: How many different values can you represent with 3 bits?</div>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(this, false, 'binary', 2)">A) 3</button>
                            <button class="option-btn" onclick="checkAnswer(this, false, 'binary', 2)">B) 6</button>
                            <button class="option-btn" onclick="checkAnswer(this, true, 'binary', 2)">C) 8</button>
                            <button class="option-btn" onclick="checkAnswer(this, false, 'binary', 2)">D) 9</button>
                        </div>
                        <div class="feedback" id="feedback-binary-2">
                            <strong>Explanation:</strong> With n bits, you can represent 2^n values. With 3 bits: 2^3 = 8 values (000 to 111, or 0 to 7 in decimal)
                        </div>
                    </div>
                </div>

                <!-- Action buttons to proceed -->
                <div class="action-buttons">
                    <button class="btn btn-primary" id="complete-binary" onclick="completeSection('binary')" disabled>Complete Section & Continue ‚Üí</button>
                </div>
            </div>

            <!-- ===== SECTION 2: CPU BASICS ===== -->
            <div class="content-section" id="section-cpu">
                <div class="lesson">
                    <h2>The Central Processing Unit (CPU)</h2>

                    <p>The <strong>CPU</strong> is the "brain" of the computer. It fetches instructions, decodes them, and executes them. Think of it as a super-fast calculator that follows a recipe (program) step by step.</p>

                    <h3>Main Components of a CPU</h3>

                    <!-- Visual CPU component diagram -->
                    <div class="cpu-diagram">
                        <div class="cpu-component">
                            <h4>Control Unit</h4>
                            <p>Directs operations and tells other parts what to do</p>
                        </div>
                        <div class="cpu-component">
                            <h4>ALU</h4>
                            <p>Arithmetic Logic Unit - does math and logical operations</p>
                        </div>
                        <div class="cpu-component">
                            <h4>Registers</h4>
                            <p>Super-fast temporary storage inside the CPU</p>
                        </div>
                        <div class="cpu-component">
                            <h4>Cache</h4>
                            <p>Fast memory that stores frequently used data</p>
                        </div>
                    </div>

                    <h3>The Fetch-Decode-Execute Cycle</h3>
                    <p>The CPU repeats these three steps billions of times per second:</p>
                    <ul>
                        <li><strong>Fetch:</strong> Get the next instruction from memory</li>
                        <li><strong>Decode:</strong> Figure out what the instruction means</li>
                        <li><strong>Execute:</strong> Carry out the instruction</li>
                    </ul>

                    <div class="demo-box">
                        <h4>Example: Adding Two Numbers</h4>
                        <p><strong>Instruction:</strong> ADD R1, R2, R3 (Add values in R1 and R2, store result in R3)</p>
                        <ul>
                            <li><strong>Fetch:</strong> CPU reads "ADD R1, R2, R3" from memory</li>
                            <li><strong>Decode:</strong> Control unit recognizes this is an addition operation</li>
                            <li><strong>Execute:</strong> ALU adds the numbers, result goes to register R3</li>
                        </ul>
                    </div>

                    <h3>CPU Speed: Clock Rate</h3>
                    <p>CPUs operate based on a clock. A 3 GHz CPU performs 3 billion cycles per second! Each cycle can complete one or more simple operations.</p>
                </div>

                <!-- Quiz section for CPU -->
                <div class="quiz">
                    <h3>üìù Test Your Knowledge</h3>

                    <div class="question">
                        <div class="question-text">Question 1: What does the Control Unit do?</div>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(this, false, 'cpu', 0)">A) Performs mathematical calculations</button>
                            <button class="option-btn" onclick="checkAnswer(this, true, 'cpu', 0)">B) Directs operations and coordinates components</button>
                            <button class="option-btn" onclick="checkAnswer(this, false, 'cpu', 0)">C) Stores long-term data</button>
                            <button class="option-btn" onclick="checkAnswer(this, false, 'cpu', 0)">D) Manages network connections</button>
                        </div>
                        <div class="feedback" id="feedback-cpu-0">
                            <strong>Explanation:</strong> The Control Unit acts like a conductor in an orchestra, directing and coordinating all the components of the CPU.
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-text">Question 2: What are the three steps in the CPU instruction cycle?</div>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(this, false, 'cpu', 1)">A) Read, Write, Store</button>
                            <button class="option-btn" onclick="checkAnswer(this, true, 'cpu', 1)">B) Fetch, Decode, Execute</button>
                            <button class="option-btn" onclick="checkAnswer(this, false, 'cpu', 1)">C) Load, Process, Save</button>
                            <button class="option-btn" onclick="checkAnswer(this, false, 'cpu', 1)">D) Input, Calculate, Output</button>
                        </div>
                        <div class="feedback" id="feedback-cpu-1">
                            <strong>Explanation:</strong> The CPU continuously performs Fetch (get instruction), Decode (understand it), and Execute (do it).
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-text">Question 3: Which component performs mathematical operations?</div>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(this, false, 'cpu', 2)">A) Control Unit</button>
                            <button class="option-btn" onclick="checkAnswer(this, true, 'cpu', 2)">B) ALU (Arithmetic Logic Unit)</button>
                            <button class="option-btn" onclick="checkAnswer(this, false, 'cpu', 2)">C) Cache</button>
                            <button class="option-btn" onclick="checkAnswer(this, false, 'cpu', 2)">D) Register</button>
                        </div>
                        <div class="feedback" id="feedback-cpu-2">
                            <strong>Explanation:</strong> The ALU (Arithmetic Logic Unit) is responsible for all mathematical and logical operations in the CPU.
                        </div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-secondary" onclick="goToSection('binary')">‚Üê Previous Section</button>
                    <button class="btn btn-primary" id="complete-cpu" onclick="completeSection('cpu')" disabled>Complete Section & Continue ‚Üí</button>
                </div>
            </div>

            <!-- ===== SECTION 3: MEMORY & REGISTERS ===== -->
            <div class="content-section" id="section-memory">
                <div class="lesson">
                    <h2>Memory and Registers</h2>

                    <p>Computers need places to store data. Different types of storage have different speeds and purposes.</p>

                    <h3>The Memory Hierarchy</h3>
                    <p>From fastest to slowest:</p>
                    <ul>
                        <li><strong>Registers:</strong> Tiny, ultra-fast storage inside the CPU (nanoseconds)</li>
                        <li><strong>Cache:</strong> Small, very fast memory close to CPU (nanoseconds)</li>
                        <li><strong>RAM:</strong> Main memory for running programs (nanoseconds to microseconds)</li>
                        <li><strong>Storage:</strong> Hard drives/SSDs for long-term data (milliseconds)</li>
                    </ul>

                    <h3>Registers: The Fastest Storage</h3>
                    <p>Registers are small storage locations built right into the CPU. They hold:</p>
                    <ul>
                        <li>Data being processed right now</li>
                        <li>Memory addresses</li>
                        <li>Instruction pointers</li>
                        <li>Status flags</li>
                    </ul>

                    <div class="demo-box">
                        <h4>Common Register Types</h4>
                        <ul>
                            <li><strong>Data Registers:</strong> Hold values for calculations (like R1, R2, R3)</li>
                            <li><strong>Address Registers:</strong> Store memory locations</li>
                            <li><strong>Instruction Register:</strong> Holds the current instruction</li>
                            <li><strong>Program Counter:</strong> Points to the next instruction</li>
                        </ul>
                    </div>

                    <h3>RAM: Random Access Memory</h3>
                    <p>RAM is the main workspace for your computer. It's organized as a grid of cells, each with a unique address.</p>

                    <!-- Interactive memory visualization -->
                    <div class="demo-box">
                        <h4>Memory Cells Visualization</h4>
                        <p>Each cell has an address and can store a value (click to see details):</p>
                        <div class="memory-grid">
                            <div class="memory-cell" onclick="showMemoryInfo('0x00', '42')">
                                <div class="address">0x00</div>
                                <div class="value">42</div>
                            </div>
                            <div class="memory-cell" onclick="showMemoryInfo('0x01', '17')">
                                <div class="address">0x01</div>
                                <div class="value">17</div>
                            </div>
                            <div class="memory-cell" onclick="showMemoryInfo('0x02', '255')">
                                <div class="address">0x02</div>
                                <div class="value">255</div>
                            </div>
                            <div class="memory-cell" onclick="showMemoryInfo('0x03', '8')">
                                <div class="address">0x03</div>
                                <div class="value">8</div>
                            </div>
                            <div class="memory-cell" onclick="showMemoryInfo('0x04', '128')">
                                <div class="address">0x04</div>
                                <div class="value">128</div>
                            </div>
                            <div class="memory-cell" onclick="showMemoryInfo('0x05', '64')">
                                <div class="address">0x05</div>
                                <div class="value">64</div>
                            </div>
                            <div class="memory-cell" onclick="showMemoryInfo('0x06', '91')">
                                <div class="address">0x06</div>
                                <div class="value">91</div>
                            </div>
                            <div class="memory-cell" onclick="showMemoryInfo('0x07', '33')">
                                <div class="address">0x07</div>
                                <div class="value">33</div>
                            </div>
                        </div>
                        <div id="memory-info" style="margin-top: 15px; padding: 10px; background: white; border-radius: 5px; display: none;">
                            Click a memory cell to see its details
                        </div>
                    </div>

                    <h3>Why Speed Matters</h3>
                    <p>The CPU can process data in registers almost instantly. Accessing RAM takes about 100 times longer. That's why keeping frequently used data in registers and cache is crucial for performance!</p>
                </div>

                <!-- Quiz section for memory -->
                <div class="quiz">
                    <h3>üìù Test Your Knowledge</h3>

                    <div class="question">
                        <div class="question-text">Question 1: Which is the fastest type of computer memory?</div>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(this, false, 'memory', 0)">A) Hard Drive</button>
                            <button class="option-btn" onclick="checkAnswer(this, false, 'memory', 0)">B) RAM</button>
                            <button class="option-btn" onclick="checkAnswer(this, false, 'memory', 0)">C) Cache</button>
                            <button class="option-btn" onclick="checkAnswer(this, true, 'memory', 0)">D) Registers</button>
                        </div>
                        <div class="feedback" id="feedback-memory-0">
                            <strong>Explanation:</strong> Registers are the fastest because they're built directly into the CPU and can be accessed in a single clock cycle.
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-text">Question 2: What does RAM stand for?</div>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(this, false, 'memory', 1)">A) Rapid Access Memory</button>
                            <button class="option-btn" onclick="checkAnswer(this, true, 'memory', 1)">B) Random Access Memory</button>
                            <button class="option-btn" onclick="checkAnswer(this, false, 'memory', 1)">C) Read And Modify</button>
                            <button class="option-btn" onclick="checkAnswer(this, false, 'memory', 1)">D) Rewritable Application Memory</button>
                        </div>
                        <div class="feedback" id="feedback-memory-1">
                            <strong>Explanation:</strong> RAM stands for Random Access Memory - "random" because you can access any location directly without going through previous locations.
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-text">Question 3: What is the primary purpose of CPU registers?</div>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(this, false, 'memory', 2)">A) Long-term data storage</button>
                            <button class="option-btn" onclick="checkAnswer(this, true, 'memory', 2)">B) Temporary storage for immediate processing</button>
                            <button class="option-btn" onclick="checkAnswer(this, false, 'memory', 2)">C) Running operating system</button>
                            <button class="option-btn" onclick="checkAnswer(this, false, 'memory', 2)">D) Storing user files</button>
                        </div>
                        <div class="feedback" id="feedback-memory-2">
                            <strong>Explanation:</strong> Registers provide ultra-fast temporary storage for data that the CPU is actively processing right now.
                        </div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-secondary" onclick="goToSection('cpu')">‚Üê Previous Section</button>
                    <button class="btn btn-primary" id="complete-memory" onclick="completeSection('memory')" disabled>Complete Section & Continue ‚Üí</button>
                </div>
            </div>

            <!-- ===== SECTION 4: ALU OPERATIONS ===== -->
            <div class="content-section" id="section-alu">
                <div class="lesson">
                    <h2>ALU: The Arithmetic Logic Unit</h2>

                    <p>The <strong>ALU</strong> is where all the magic happens! It's the component that actually performs calculations and logical operations.</p>

                    <h3>What Can the ALU Do?</h3>

                    <p><strong>Arithmetic Operations:</strong></p>
                    <ul>
                        <li>Addition (+)</li>
                        <li>Subtraction (-)</li>
                        <li>Multiplication (√ó)</li>
                        <li>Division (√∑)</li>
                    </ul>

                    <p><strong>Logical Operations:</strong></p>
                    <ul>
                        <li><strong>AND:</strong> Both inputs must be 1 to get 1</li>
                        <li><strong>OR:</strong> At least one input must be 1 to get 1</li>
                        <li><strong>NOT:</strong> Flips the bit (1 becomes 0, 0 becomes 1)</li>
                        <li><strong>XOR:</strong> Inputs must be different to get 1</li>
                    </ul>

                    <div class="demo-box">
                        <h4>Logical Operations Examples</h4>
                        <ul>
                            <li><strong>1 AND 1 = 1</strong> (both are 1)</li>
                            <li><strong>1 AND 0 = 0</strong> (not both are 1)</li>
                            <li><strong>1 OR 0 = 1</strong> (at least one is 1)</li>
                            <li><strong>0 OR 0 = 0</strong> (neither is 1)</li>
                            <li><strong>NOT 1 = 0</strong> (flip the bit)</li>
                            <li><strong>1 XOR 1 = 0</strong> (same values)</li>
                            <li><strong>1 XOR 0 = 1</strong> (different values)</li>
                        </ul>
                    </div>

                    <!-- Interactive ALU calculator -->
                    <div class="demo-box">
                        <h4>Try It: ALU Calculator</h4>
                        <div class="alu-calculator">
                            <div class="alu-inputs">
                                <input type="number" id="alu-input1" placeholder="First number" value="5">
                                <select id="alu-operation">
                                    <option value="add">+ ADD</option>
                                    <option value="subtract">- SUBTRACT</option>
                                    <option value="multiply">√ó MULTIPLY</option>
                                    <option value="divide">√∑ DIVIDE</option>
                                    <option value="and">AND (bitwise)</option>
                                    <option value="or">OR (bitwise)</option>
                                    <option value="xor">XOR (bitwise)</option>
                                </select>
                                <input type="number" id="alu-input2" placeholder="Second number" value="3">
                                <button onclick="performALUOperation()">Calculate</button>
                            </div>
                            <div class="alu-result" id="alu-result">Result will appear here</div>
                        </div>
                    </div>

                    <h3>Status Flags</h3>
                    <p>The ALU also sets special flags after each operation:</p>
                    <ul>
                        <li><strong>Zero Flag:</strong> Set if result is zero</li>
                        <li><strong>Carry Flag:</strong> Set if operation produces a carry</li>
                        <li><strong>Overflow Flag:</strong> Set if result is too large</li>
                        <li><strong>Sign Flag:</strong> Indicates if result is negative</li>
                    </ul>

                    <p>These flags help the CPU make decisions (like in if statements and loops)!</p>
                </div>

                <!-- Quiz section for ALU -->
                <div class="quiz">
                    <h3>üìù Test Your Knowledge</h3>

                    <div class="question">
                        <div class="question-text">Question 1: What does ALU stand for?</div>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(this, false, 'alu', 0)">A) Advanced Logic Unit</button>
                            <button class="option-btn" onclick="checkAnswer(this, true, 'alu', 0)">B) Arithmetic Logic Unit</button>
                            <button class="option-btn" onclick="checkAnswer(this, false, 'alu', 0)">C) Automated Learning Unit</button>
                            <button class="option-btn" onclick="checkAnswer(this, false, 'alu', 0)">D) Application Logic Utility</button>
                        </div>
                        <div class="feedback" id="feedback-alu-0">
                            <strong>Explanation:</strong> ALU stands for Arithmetic Logic Unit - it handles both arithmetic (math) and logic operations.
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-text">Question 2: What is the result of 1 AND 0?</div>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(this, true, 'alu', 1)">A) 0</button>
                            <button class="option-btn" onclick="checkAnswer(this, false, 'alu', 1)">B) 1</button>
                            <button class="option-btn" onclick="checkAnswer(this, false, 'alu', 1)">C) 2</button>
                            <button class="option-btn" onclick="checkAnswer(this, false, 'alu', 1)">D) Error</button>
                        </div>
                        <div class="feedback" id="feedback-alu-1">
                            <strong>Explanation:</strong> AND requires BOTH inputs to be 1. Since one is 0, the result is 0.
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-text">Question 3: What is the result of 1 OR 0?</div>
                        <div class="options">
                            <button class="option-btn" onclick="checkAnswer(this, false, 'alu', 2)">A) 0</button>
                            <button class="option-btn" onclick="checkAnswer(this, true, 'alu', 2)">B) 1</button>
                            <button class="option-btn" onclick="checkAnswer(this, false, 'alu', 2)">C) 2</button>
                            <button class="option-btn" onclick="checkAnswer(this, false, 'alu', 2)">D) Error</button>
                        </div>
                        <div class="feedback" id="feedback-alu-2">
                            <strong>Explanation:</strong> OR requires at least ONE input to be 1. Since we have a 1, the result is 1.
                        </div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-secondary" onclick="goToSection('memory')">‚Üê Previous Section</button>
                    <button class="btn btn-primary" id="complete-alu" onclick="completeSection('alu')" disabled>Complete Section ‚Üí</button>
                </div>

                <!-- Final completion message -->
                <div id="completion-message" style="display: none;">
                    <div class="score-display pulse">
                        <h3>üéâ Congratulations!</h3>
                        <p>You've completed Computer Architecture Adventure!</p>
                        <div class="score-number" id="final-score">0</div>
                        <p>Total Points</p>
                    </div>
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="resetProgress()">Start Over</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ===== GAME STATE MANAGEMENT =====

        /**
         * Main game state object that tracks all progress
         * Stored in localStorage for persistence across sessions
         */
        let gameState = {
            currentSection: 'binary',
            completedSections: [],
            quizAnswers: {
                binary: [false, false, false],
                cpu: [false, false, false],
                memory: [false, false, false],
                alu: [false, false, false]
            },
            totalScore: 0,
            sectionScores: {
                binary: 0,
                cpu: 0,
                memory: 0,
                alu: 0
            }
        };

        /**
         * Initialize game on page load
         * Loads saved state from localStorage if available
         */
        function initGame() {
            // Try to load saved progress
            const savedState = localStorage.getItem('caGameState');
            if (savedState) {
                gameState = JSON.parse(savedState);
                restoreGameState();
            }
            updateProgress();
        }

        /**
         * Restore UI to match saved game state
         */
        function restoreGameState() {
            // Update section buttons
            gameState.completedSections.forEach(section => {
                const btn = document.querySelector(`[data-section="${section}"]`);
                if (btn) {
                    btn.classList.add('completed');
                    btn.classList.remove('locked');
                }
            });

            // Unlock next section after completed ones
            const sections = ['binary', 'cpu', 'memory', 'alu'];
            const lastCompleted = gameState.completedSections[gameState.completedSections.length - 1];
            if (lastCompleted) {
                const nextIndex = sections.indexOf(lastCompleted) + 1;
                if (nextIndex < sections.length) {
                    const nextBtn = document.querySelector(`[data-section="${sections[nextIndex]}"]`);
                    if (nextBtn) nextBtn.classList.remove('locked');
                }
            }

            // Restore quiz answers
            Object.keys(gameState.quizAnswers).forEach(section => {
                gameState.quizAnswers[section].forEach((answered, index) => {
                    if (answered) {
                        const feedback = document.getElementById(`feedback-${section}-${index}`);
                        if (feedback) feedback.classList.add('show');
                    }
                });
            });

            // Update complete buttons
            Object.keys(gameState.quizAnswers).forEach(section => {
                const allAnswered = gameState.quizAnswers[section].every(a => a);
                if (allAnswered) {
                    const btn = document.getElementById(`complete-${section}`);
                    if (btn) btn.disabled = false;
                }
            });
        }

        /**
         * Save current game state to localStorage
         */
        function saveGameState() {
            localStorage.setItem('caGameState', JSON.stringify(gameState));
        }

        // ===== SECTION NAVIGATION =====

        /**
         * Navigate to a specific section
         * @param {string} sectionName - Name of the section to display
         */
        function goToSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });

            // Show selected section
            document.getElementById(`section-${sectionName}`).classList.add('active');

            // Update button states
            document.querySelectorAll('.section-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-section="${sectionName}"]`).classList.add('active');

            // Update game state
            gameState.currentSection = sectionName;
            saveGameState();

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        /**
         * Complete a section and unlock the next one
         * @param {string} sectionName - Name of the completed section
         */
        function completeSection(sectionName) {
            // Add to completed sections if not already there
            if (!gameState.completedSections.includes(sectionName)) {
                gameState.completedSections.push(sectionName);
            }

            // Update button appearance
            const btn = document.querySelector(`[data-section="${sectionName}"]`);
            btn.classList.add('completed');

            // Unlock next section
            const sections = ['binary', 'cpu', 'memory', 'alu'];
            const currentIndex = sections.indexOf(sectionName);
            if (currentIndex < sections.length - 1) {
                const nextSection = sections[currentIndex + 1];
                const nextBtn = document.querySelector(`[data-section="${nextSection}"]`);
                nextBtn.classList.remove('locked');

                // Navigate to next section
                goToSection(nextSection);
            } else {
                // All sections complete! Show final message
                showCompletionMessage();
            }

            updateProgress();
            saveGameState();
        }

        /**
         * Show final completion message with score
         */
        function showCompletionMessage() {
            document.getElementById('completion-message').style.display = 'block';
            document.getElementById('final-score').textContent = gameState.totalScore;

            // Scroll to completion message
            setTimeout(() => {
                document.getElementById('completion-message').scrollIntoView({
                    behavior: 'smooth',
                    block: 'center'
                });
            }, 300);
        }

        /**
         * Reset all progress and start over
         */
        function resetProgress() {
            if (confirm('Are you sure you want to reset all progress?')) {
                localStorage.removeItem('caGameState');
                location.reload();
            }
        }

        // ===== PROGRESS TRACKING =====

        /**
         * Update the progress bar based on completed sections
         */
        function updateProgress() {
            const totalSections = 4;
            const completed = gameState.completedSections.length;
            const percentage = Math.round((completed / totalSections) * 100);

            const progressBar = document.getElementById('progress-bar');
            const progressText = document.getElementById('progress-text');

            progressBar.style.width = `${percentage}%`;
            progressBar.textContent = `${percentage}%`;
            progressText.textContent = `${percentage}%`;
        }

        // ===== QUIZ FUNCTIONALITY =====

        /**
         * Check if a quiz answer is correct and provide feedback
         * @param {HTMLElement} button - The clicked answer button
         * @param {boolean} isCorrect - Whether the answer is correct
         * @param {string} section - Section name (binary, cpu, memory, alu)
         * @param {number} questionIndex - Index of the question (0, 1, 2)
         */
        function checkAnswer(button, isCorrect, section, questionIndex) {
            // Get all option buttons for this question
            const options = button.parentElement.querySelectorAll('.option-btn');

            // Disable all options after selection
            options.forEach(opt => {
                opt.disabled = true;
                opt.classList.remove('selected');
            });

            // Mark selected button
            button.classList.add('selected');

            // Show correct/incorrect feedback
            if (isCorrect) {
                button.classList.add('correct');
                gameState.sectionScores[section] += 10;
                gameState.totalScore += 10;
            } else {
                button.classList.add('incorrect');
                // Find and highlight the correct answer
                options.forEach(opt => {
                    if (opt.onclick.toString().includes('true')) {
                        opt.classList.add('correct');
                    }
                });
            }

            // Show explanation
            const feedback = document.getElementById(`feedback-${section}-${questionIndex}`);
            feedback.classList.add('show');
            feedback.classList.add(isCorrect ? 'correct' : 'incorrect');

            // Mark question as answered
            gameState.quizAnswers[section][questionIndex] = true;

            // Check if all questions in section are answered
            const allAnswered = gameState.quizAnswers[section].every(a => a);
            if (allAnswered) {
                // Enable the complete button
                const completeBtn = document.getElementById(`complete-${section}`);
                if (completeBtn) {
                    completeBtn.disabled = false;
                    completeBtn.classList.add('pulse');
                }
            }

            saveGameState();
            updateProgress();
        }

        // ===== INTERACTIVE DEMOS =====

        /**
         * Convert decimal number to binary
         */
        function convertToBinary() {
            const decimal = parseInt(document.getElementById('decimal-input').value);

            if (isNaN(decimal) || decimal < 0) {
                document.getElementById('binary-result').textContent = 'Please enter a valid positive number';
                return;
            }

            // Convert to binary using JavaScript's built-in method
            const binary = decimal.toString(2);

            // Show result with explanation
            document.getElementById('binary-result').innerHTML =
                `<strong>${decimal}</strong> in decimal = <strong>${binary}</strong> in binary`;
        }

        /**
         * Convert binary number to decimal
         */
        function convertToDecimal() {
            const binary = document.getElementById('binary-input').value;

            // Validate binary input (only 0s and 1s)
            if (!/^[01]+$/.test(binary)) {
                document.getElementById('decimal-result').textContent = 'Please enter only 0s and 1s';
                return;
            }

            // Convert to decimal using parseInt with base 2
            const decimal = parseInt(binary, 2);

            // Show result with explanation
            document.getElementById('decimal-result').innerHTML =
                `<strong>${binary}</strong> in binary = <strong>${decimal}</strong> in decimal`;
        }

        /**
         * Show information about a memory cell
         * @param {string} address - Memory address
         * @param {string} value - Value stored at that address
         */
        function showMemoryInfo(address, value) {
            const infoBox = document.getElementById('memory-info');
            infoBox.style.display = 'block';

            // Convert decimal value to binary for display
            const binary = parseInt(value).toString(2).padStart(8, '0');

            infoBox.innerHTML = `
                <strong>Memory Address:</strong> ${address}<br>
                <strong>Decimal Value:</strong> ${value}<br>
                <strong>Binary Value:</strong> ${binary}<br>
                <strong>Hexadecimal:</strong> 0x${parseInt(value).toString(16).toUpperCase()}
            `;
        }

        /**
         * Perform ALU operation and display result
         */
        function performALUOperation() {
            const input1 = parseInt(document.getElementById('alu-input1').value);
            const input2 = parseInt(document.getElementById('alu-input2').value);
            const operation = document.getElementById('alu-operation').value;

            let result;
            let explanation = '';

            // Perform the selected operation
            switch(operation) {
                case 'add':
                    result = input1 + input2;
                    explanation = `${input1} + ${input2} = ${result}`;
                    break;
                case 'subtract':
                    result = input1 - input2;
                    explanation = `${input1} - ${input2} = ${result}`;
                    break;
                case 'multiply':
                    result = input1 * input2;
                    explanation = `${input1} √ó ${input2} = ${result}`;
                    break;
                case 'divide':
                    if (input2 === 0) {
                        result = 'Error';
                        explanation = 'Cannot divide by zero!';
                    } else {
                        result = Math.floor(input1 / input2);
                        explanation = `${input1} √∑ ${input2} = ${result} (integer division)`;
                    }
                    break;
                case 'and':
                    result = input1 & input2;
                    explanation = `${input1} AND ${input2} = ${result}<br>Binary: ${input1.toString(2)} AND ${input2.toString(2)} = ${result.toString(2)}`;
                    break;
                case 'or':
                    result = input1 | input2;
                    explanation = `${input1} OR ${input2} = ${result}<br>Binary: ${input1.toString(2)} OR ${input2.toString(2)} = ${result.toString(2)}`;
                    break;
                case 'xor':
                    result = input1 ^ input2;
                    explanation = `${input1} XOR ${input2} = ${result}<br>Binary: ${input1.toString(2)} XOR ${input2.toString(2)} = ${result.toString(2)}`;
                    break;
            }

            // Display result
            document.getElementById('alu-result').innerHTML = explanation;
        }

        // ===== EVENT LISTENERS =====

        /**
         * Set up section navigation button listeners
         */
        document.querySelectorAll('.section-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const section = this.getAttribute('data-section');

                // Only allow navigation if section is unlocked
                if (!this.classList.contains('locked')) {
                    goToSection(section);
                }
            });
        });

        /**
         * Enable Enter key for binary converters
         */
        document.getElementById('decimal-input')?.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') convertToBinary();
        });

        document.getElementById('binary-input')?.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') convertToDecimal();
        });

        // ===== INITIALIZE GAME ON PAGE LOAD =====
        window.addEventListener('DOMContentLoaded', initGame);
    </script>
</body>
</html>
